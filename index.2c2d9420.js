const e=new class{async fetchTrendingUrl(){const e=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=83cba2c85d0df477852b094af9fbdddb&page=${this.page}`);return this.incrementPage(),await e.json()}async fetchSearch(){console.log(this.searchValue);const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=83cba2c85d0df477852b094af9fbdddb&query=${this.searchValue}&page=${this.page}`);return console.log(),this.incrementPage(),console.log(e),await e.json()}async fetchGenres(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=83cba2c85d0df477852b094af9fbdddb&language=en-US");return await e.json()}async fetchMovieById(){const e=await fetch("https://api.themoviedb.org/3/movie/157336?api_key=83cba2c85d0df477852b094af9fbdddb");return await e.json()}incrementPage(){this.page+=1}resetPage(){this.page=1}get input(){return this.searchValue}set input(e){this.searchValue=e}constructor(){this.searchValue="",this.page=1}},t={form:document.querySelector(".search-form"),gallery:document.querySelector("#gallery-list"),galleryItem:document.querySelector(".gallery-item")};async function a(){e.resetPage();try{const t=await e.fetchTrendingUrl(),a=await e.fetchGenres();console.log(t),n(t,a)}catch(e){console.log(e)}}function n(e,a){console.log(e.results);const n=a.genres;console.log(n);const r=e.results.map((({id:e,genre_ids:t,original_title:a,release_date:i,poster_path:r,vote_average:s})=>`<li class="gallery-item" id="${e}">\n        <div class="gallery-image"><img src="https://image.tmdb.org/t/p/w500${r}" alt="${a}"></div>\n        <h2 class="gallery-item-title">${a}</h2>\n        <span class="gallery-item-prop">${n.filter((e=>t.includes(e.id))).map((e=>e.name))} | ${new Date(i).getFullYear()} | ${s.toFixed(1)}</span>\n        <button type="button" id="watched">Watched</button>\n<button type="button" id="queue">Queue</button>\n      </li>`)).join("");t.gallery.innerHTML=r,galleryItem=document.querySelector(".gallery-item"),galleryItem.addEventListener("click",i)}function i(e){console.log(e)}t.form.addEventListener("submit",(async function(a){if(a.preventDefault(),t.gallery.innerHTML="",e.input=a.currentTarget.elements.searchInput.value.trim(),""!==e.input)try{const t=await e.fetchSearch(),a=await e.fetchGenres();n(t,a)}catch(e){console.log(e)}return})),window.addEventListener("DOMContentLoaded",a);
//# sourceMappingURL=index.2c2d9420.js.map
