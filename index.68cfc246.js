const e=new class{async fetchTrendingUrl(){const e=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=83cba2c85d0df477852b094af9fbdddb&page=${this.page}`);return this.incrementPage(),await e.json()}async fetchSearch(){console.log(this.searchValue);const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=83cba2c85d0df477852b094af9fbdddb&query=${this.searchValue}&page=${this.page}`);return console.log(),this.incrementPage(),console.log(e),await e.json()}async fetchGenres(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=83cba2c85d0df477852b094af9fbdddb&language=en-US");return await e.json()}async fetchMovieById(){const e=await fetch("https://api.themoviedb.org/3/movie/157336?api_key=83cba2c85d0df477852b094af9fbdddb");return await e.json()}incrementPage(){this.page+=1}resetPage(){this.page=1}get input(){return this.searchValue}set input(e){this.searchValue=e}constructor(){this.searchValue="",this.page=1}},t={form:document.querySelector(".search-form"),gallery:document.querySelector(".gallery-list")};async function a(){e.resetPage();try{const a=await e.fetchTrendingUrl(),i=await e.fetchGenres();console.log(a),n(a,i),t.gallery.addEventListener("click",s)}catch(e){console.log(e)}}function n(e,a){const n=a.genres,s=e.results;console.log(e.results),console.log(n);const i=s.map((({id:e,genre_ids:t,original_title:a,release_date:s,poster_path:i,vote_average:r})=>`<li class="gallery-item" id="${e}">\n        <div class="gallery-image"><img src="https://image.tmdb.org/t/p/w500${i}" alt="${a}">\n        <h2 class="gallery-item-title">${a}</h2>\n        <span class="gallery-item-prop">${n.filter((e=>t.includes(e.id))).map((e=>e.name))} | ${new Date(s).getFullYear()} | ${r.toFixed(1)}</span></div></li>`)).join("");t.gallery.innerHTML=i}function s(e){console.dir(e.target),e.preventDefault();const t=e.target.closest(".gallery-item");console.dir("IdElement",t)}t.form.addEventListener("submit",(async function(a){if(a.preventDefault(),t.gallery.innerHTML="",e.input=a.currentTarget.elements.searchInput.value.trim(),""!==e.input)try{const t=await e.fetchSearch(),a=await e.fetchGenres();n(t,a)}catch(e){console.log(e)}return})),window.addEventListener("DOMContentLoaded",a);
//# sourceMappingURL=index.68cfc246.js.map
